<!DOCTYPE html>
<head>
  
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-PPZPQ6');</script>
  <!-- End Google Tag Manager -->
    <title>GCP</title>
  

  <meta charset="utf-8">
  <!-- Twitter Bootstrap viewport setting -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- F5 metadata -->
  <meta name="title" content="GCP"/>
  <meta name="product" content="F5 BIG-IP Resources for Terraform"/>
  <meta name="version" content=""/>
  <meta name="updated_date"  content="2023-04-26 11:50:19"/>
  <meta name="archived" content="Archived documents excluded"/>
  <meta name="doc_type" content="Manual"/>
  <meta name="lifecycle" content="release"/>
  <meta name="F5 BIG-IP Resources for Terraform" content=""/>


  

  
  <link href="https://cdn.f5.com/favicon.ico" rel="icon">

</head>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>GCP &#8212; F5 Modules for Terraform</title>
    <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/table_styling.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/f5.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/f5-theme.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="https://use.fontawesome.com/21fb8a09c3.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script type="text/javascript" src="../../_static/copybutton.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="AS3 Integration with Terraform" href="../as3-integration.html" />
    <link rel="prev" title="Azure" href="azure.html" />

  
    

  
  </head><body>
  <div id="clouddocs-header"></div>

    <div id="dismiss">
      <button type="button" class="btn btn-info navbar-btn site-hidden">
        <i class="fa fa-align-justify"></i>
      </button>
    </div>
    <div id="sidebar" class="section-nav">
      
      <!--  version selector ------------------>
      <div id="version_selector_wrapper">
      </div>
      <nav class="nav-sidebartoc">

        
         <h5>F5 BIG-IP Resources for Terraform  </h5>
        
<div id="searchbox" role="search">
  <form class="search" action="../../search.html" method="get">
    <input type="text" class="search" name="q" placeholder=" Search..." />
    <button type="submit" class="btn btn-info navbar-btn"><i class="fa fa-search"></i></button>
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        <hr>
        <span class="nav-sidebartoc">
            <p class="caption"><span class="caption-text">F5 Terraform Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">F5 Terraform Resources Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installing.html">Installing Terraform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuring.html">Configuring Terraform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">Support</a></li>
</ul>
<p class="caption"><span class="caption-text">F5 BIG-IP Provider</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index-bigip.html">F5 BIG-IP Provider Overview</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index-bigip.html#releases-and-versioning">Releases and Versioning</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../release-notes.html">F5 BIG-IP Provider Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">F5 BIG-IP Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="aws.html">AWS</a></li>
<li class="toctree-l2"><a class="reference internal" href="azure.html">Azure</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">GCP</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../as3-integration.html">AS3 Integration with Terraform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../awaf-integration/index.html">Advanced WAF Integration with Terraform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fast-integration/index.html">FAST Integration with Terraform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../do-integration.html">Declarative Onboarding Integration with Terraform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bigiq-licensing.html">Licensing BIG-IP with BIG-IQ</a></li>
</ul>
<p class="caption"><span class="caption-text">F5OS Provider</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../F5OS/index-f5os.html">F5OS Resources for Terraform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../F5OS/release-notes.html">F5OS Provider Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../F5OS/f5os-modules.html">F5OS Tenant Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../F5OS/f5os-qsg.html">F5OS Quick Start Guide</a></li>
</ul>

        </span><!-- Use this file to add extra links to the bottom of the ToC sidebar -->
<hr>
  <span class="nav-sidebartoc">
 <!-- insert content here -->
  </span>
      </nav>
    </div>


    <div id="right-sidebar">
      <h7 style="font-weight:normal">On this page:</h7>
      <nav class="nav-sidebartoc">
        <span class="nav-sidebartoc">
            <ul>
<li><a class="reference internal" href="#">GCP</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#password-management">Password Management</a></li>
<li><a class="reference internal" href="#example-usage">Example Usage</a><ul>
<li><a class="reference internal" href="#required-and-optional-input-variables">Required and Optional Input Variables</a></li>
<li><a class="reference internal" href="#output-variables">Output Variables</a></li>
</ul>
</li>
</ul>
</li>
</ul>

         </span>
      </nav>
    </div>





  
  <div class="main active" id="content" >
    <article class="docs-container site-article-inner">
            <nav class="site-breadcrumb-nav site-nav">
          <ul class="site-breadcrumb-list">
            <li class="breadcrumb-item"><button type="button" id="sidebarCollapse" class="btn btn-info navbar-btn site-hidden"><i class="fa fa-align-justify"></i></button>&#x20 <a href="/">CloudDocs Home</a> &gt; <a href="../../index.html">F5 BIG-IP Resources for Terraform </a> &gt; GCP</li>
          </ul>
      </nav>
      
      


    <!--a title="Export PDF" id="export-pdf" class="btn btn btn-link pull-right">View PDF</a-->
    <button type="button" id="export-pdf" class="btn btn-link right">PDF</button>


    
     
         <div class="sidebar" id="version-warning" style="display: none;">
           <p class="first sidebar-title">
           <span class="icon fa fa-info-circle fa-lg"></span> Version notice:</p>
           <p class="last" id="currentVersion"></p>
          </div>


     <div role="main">
        
  <div class="section" id="gcp">
<span id="bigip-modules-gcp"></span><h1>GCP<a class="headerlink" href="#gcp" title="Permalink to this headline">¶</a></h1>
<p>This Terraform module deploys N-NIC F5 BIG-IP in Google Cloud Provider (GCP). You can deploy multiple instances of BIG-IP with the module count feature.</p>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<div class="sidebar">
<p class="first sidebar-title"><span class="icon fa fa-info-circle fa-lg"></span> Version Notice:</p>
<p class="last">This module is supported on Terraform version 0.13 and newer.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/getting_started">Getting Started with the Google Provider</a></p>
</div>
<p>The templates below are tested on Terraform v0.14.0:</p>
<ul class="simple">
<li>provider registry.terraform.io/hashicorp/google v3.51.0</li>
<li>provider registry.terraform.io/hashicorp/null v2.1.2</li>
<li>provider registry.terraform.io/hashicorp/random v3.0.1</li>
<li>provider registry.terraform.io/hashicorp/template v2.2.0</li>
</ul>
<table border="1" class="docutils">
<colgroup>
<col width="53%" />
<col width="47%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">BIG-IP version</th>
<th class="head">Terraform v0.14</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>BIG-IP 16.x</td>
<td>X</td>
</tr>
<tr class="row-odd"><td>BIG-IP 15.x</td>
<td>X</td>
</tr>
<tr class="row-even"><td>BIG-IP 14.x</td>
<td>X</td>
</tr>
<tr class="row-odd"><td>BIG-IP 13.x</td>
<td>X</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="password-management">
<h2>Password Management<a class="headerlink" href="#password-management" title="Permalink to this headline">¶</a></h2>
<p>By default, the BIG-IP module dynamically generates passwords. Users can provide a password as input to the module using the optional variable <code class="docutils literal notranslate"><span class="pre">f5_password</span></code>. To use GCP secret manager, you must enable the variable <code class="docutils literal notranslate"><span class="pre">gcp_secret_manager_authentication</span></code> to <code class="docutils literal notranslate"><span class="pre">true</span></code> and supply the variables with secret name and version.</p>
</div>
<div class="section" id="example-usage">
<h2>Example Usage<a class="headerlink" href="#example-usage" title="Permalink to this headline">¶</a></h2>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="https://github.com/f5devcentral/terraform-gcp-bigip-module/tree/main/examples">Common deployment examples</a>.</p>
</div>
<p>You can use dynamic or static private IP allocation. If the primary or secondary private IP value is null, it will default to dynamic IP allocation. With static private IP allocation, you can assign primary and secondary private IPs for external interfaces. If you are using static private IP allocation, you cannot use module count because the same private IPs will be allocated for multiple BIG-IP instances based on module count. If you are using dynamic private IP allocation, you must pass a null value to primary/secondary private IP declaration and module count will be supported.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">Example Deployment with Dynamic Private IP Allocation</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span> <span class="nx">Example</span> <span class="mi">1</span><span class="o">-</span><span class="nx">NIC</span> <span class="nx">Deployment</span> <span class="nx">Module</span> <span class="nx">usage</span>

 <span class="nx">module</span> <span class="nx">bigip</span> <span class="p">{</span>
   <span class="nx">count</span>           <span class="o">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">instance_count</span>
   <span class="nx">source</span>          <span class="o">=</span> <span class="s2">&quot;../..&quot;</span>
   <span class="nx">prefix</span>          <span class="o">=</span> <span class="s2">&quot;bigip-gcp-1nic&quot;</span>
   <span class="nx">project_id</span>      <span class="o">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">project_id</span>
   <span class="nx">zone</span>            <span class="o">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">zone</span>
   <span class="nx">image</span>           <span class="o">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">image</span>
   <span class="nx">service_account</span> <span class="o">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">service_account</span>
   <span class="nx">mgmt_subnet_ids</span> <span class="o">=</span> <span class="p">[{</span> <span class="s2">&quot;subnet_id&quot;</span> <span class="o">=</span> <span class="nx">google_compute_subnetwork</span><span class="p">.</span><span class="nx">mgmt_subnetwork</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="s2">&quot;public_ip&quot;</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="s2">&quot;private_ip_primary&quot;</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="p">}]</span>
 <span class="p">}</span>

 <span class="nx">Example</span> <span class="mi">2</span><span class="o">-</span><span class="nx">NIC</span> <span class="nx">Deployment</span> <span class="nx">Module</span> <span class="nx">usage</span>

 <span class="nx">module</span> <span class="s2">&quot;bigip&quot;</span> <span class="p">{</span>
   <span class="nx">count</span>               <span class="o">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">instance_count</span>
   <span class="nx">source</span>              <span class="o">=</span> <span class="s2">&quot;../..&quot;</span>
   <span class="nx">prefix</span>              <span class="o">=</span> <span class="s2">&quot;bigip-gcp-2nic&quot;</span>
   <span class="nx">project_id</span>          <span class="o">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">project_id</span>
   <span class="nx">zone</span>                <span class="o">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">zone</span>
   <span class="nx">image</span>               <span class="o">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">image</span>
   <span class="nx">service_account</span>     <span class="o">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">service_account</span>
   <span class="nx">mgmt_subnet_ids</span>     <span class="o">=</span> <span class="p">[{</span> <span class="s2">&quot;subnet_id&quot;</span> <span class="o">=</span> <span class="nx">google_compute_subnetwork</span><span class="p">.</span><span class="nx">mgmt_subnetwork</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="s2">&quot;public_ip&quot;</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="s2">&quot;private_ip_primary&quot;</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="p">}]</span>
   <span class="nx">external_subnet_ids</span> <span class="o">=</span> <span class="p">[{</span> <span class="s2">&quot;subnet_id&quot;</span> <span class="o">=</span> <span class="nx">google_compute_subnetwork</span><span class="p">.</span><span class="nx">external_subnetwork</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="s2">&quot;public_ip&quot;</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="s2">&quot;private_ip_primary&quot;</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;private_ip_secondary&quot;</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="p">}]</span>
 <span class="p">}</span>


 <span class="nx">Example</span> <span class="mi">3</span><span class="o">-</span><span class="nx">NIC</span> <span class="nx">Deployment</span>  <span class="nx">Module</span> <span class="nx">usage</span>

 <span class="nx">module</span> <span class="nx">bigip</span> <span class="p">{</span>
   <span class="nx">count</span>               <span class="o">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">instance_count</span>
   <span class="nx">source</span>              <span class="o">=</span> <span class="s2">&quot;../..&quot;</span>
   <span class="nx">prefix</span>              <span class="o">=</span> <span class="s2">&quot;bigip-gcp-3nic&quot;</span>
   <span class="nx">project_id</span>          <span class="o">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">project_id</span>
   <span class="nx">zone</span>                <span class="o">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">zone</span>
   <span class="nx">image</span>               <span class="o">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">image</span>
   <span class="nx">service_account</span>     <span class="o">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">service_account</span>
   <span class="nx">mgmt_subnet_ids</span>     <span class="o">=</span> <span class="p">[{</span> <span class="s2">&quot;subnet_id&quot;</span> <span class="o">=</span> <span class="nx">google_compute_subnetwork</span><span class="p">.</span><span class="nx">mgmt_subnetwork</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="s2">&quot;public_ip&quot;</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="s2">&quot;private_ip_primary&quot;</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="p">}]</span>
   <span class="nx">external_subnet_ids</span> <span class="o">=</span> <span class="p">[{</span> <span class="s2">&quot;subnet_id&quot;</span> <span class="o">=</span> <span class="nx">google_compute_subnetwork</span><span class="p">.</span><span class="nx">external_subnetwork</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="s2">&quot;public_ip&quot;</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="s2">&quot;private_ip_primary&quot;</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;private_ip_secondary&quot;</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="p">}]</span>
   <span class="nx">internal_subnet_ids</span> <span class="o">=</span> <span class="p">[{</span> <span class="s2">&quot;subnet_id&quot;</span> <span class="o">=</span> <span class="nx">google_compute_subnetwork</span><span class="p">.</span><span class="nx">internal_subnetwork</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="s2">&quot;public_ip&quot;</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span> <span class="s2">&quot;private_ip_primary&quot;</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;private_ip_secondary&quot;</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="p">}]</span>
 <span class="p">}</span>


 <span class="nx">Example</span> <span class="mi">4</span><span class="o">-</span><span class="nx">NIC</span> <span class="nx">Deployment</span>  <span class="nx">Module</span> <span class="nx">usage</span><span class="p">(</span><span class="kd">with</span> <span class="mi">2</span> <span class="nx">external</span> <span class="kr">public</span> <span class="nx">interfaces</span><span class="p">,</span><span class="nx">one</span> <span class="nx">management</span> <span class="nx">and</span> <span class="nx">internal</span> <span class="nx">interfaces</span><span class="p">)</span>

 <span class="nx">module</span> <span class="nx">bigip</span> <span class="nx">s</span>
   <span class="nx">count</span>               <span class="o">=</span> <span class="nx">vas</span><span class="p">.</span><span class="nx">instance_count</span>
   <span class="nx">source</span>              <span class="o">=</span> <span class="s2">&quot;../..&quot;</span>
   <span class="nx">prefix</span>              <span class="o">=</span> <span class="s2">&quot;bigip-gcp-4nic&quot;</span>
   <span class="nx">project_id</span>          <span class="o">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">project_id</span>
   <span class="nx">zone</span>                <span class="o">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">zone</span>
   <span class="nx">image</span>               <span class="o">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">image</span>
   <span class="nx">service_account</span>     <span class="o">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">service_account</span>
   <span class="nx">mgmt_subnet_ids</span>     <span class="o">=</span> <span class="p">[{</span> <span class="s2">&quot;subnet_id&quot;</span> <span class="o">=</span> <span class="nx">google_compute_subnetwork</span><span class="p">.</span><span class="nx">mgmt_subnetwork</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="s2">&quot;public_ip&quot;</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="s2">&quot;private_ip_primary&quot;</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="p">}]</span>
   <span class="nx">external_subnet_ids</span> <span class="o">=</span> <span class="p">([{</span> <span class="s2">&quot;subnet_id&quot;</span> <span class="o">=</span> <span class="nx">google_compute_subnetwork</span><span class="p">.</span><span class="nx">external_subnetwork</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="s2">&quot;public_ip&quot;</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="s2">&quot;private_ip_primary&quot;</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;private_ip_secondary&quot;</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>  <span class="p">},</span>                                         <span class="p">{</span> <span class="s2">&quot;subnet_id&quot;</span> <span class="o">=</span> <span class="nx">google_compute_subnetwork</span><span class="p">.</span><span class="nx">external_subnetwork2</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="s2">&quot;public_ip&quot;</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="s2">&quot;private_ip_primary&quot;</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;private_ip_secondary&quot;</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>  <span class="p">}])</span>
   <span class="nx">internal_subnet_ids</span> <span class="o">=</span> <span class="p">[{</span> <span class="s2">&quot;subnet_id&quot;</span> <span class="o">=</span> <span class="nx">google_compute_subnetwork</span><span class="p">.</span><span class="nx">internal_subnetwork</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="s2">&quot;public_ip&quot;</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span> <span class="s2">&quot;private_ip_primary&quot;</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="p">}]</span>
 <span class="p">}</span>

 <span class="p">.............</span>

 <span class="nx">Similarly</span> <span class="nx">we</span> <span class="nx">can</span> <span class="nx">have</span> <span class="nx">N</span><span class="o">-</span><span class="nx">nic</span> <span class="nx">deployments</span> <span class="nx">based</span> <span class="nx">on</span> <span class="nx">user</span><span class="o">-</span><span class="nx">provided</span> <span class="nx">subnet_ids</span><span class="p">.</span>
 <span class="nx">With</span> <span class="nx">module</span> <span class="nx">count</span><span class="p">,</span> <span class="nx">you</span> <span class="nx">can</span> <span class="nx">deploy</span> <span class="nx">multiple</span> <span class="nx">BIG</span><span class="o">-</span><span class="nx">IP</span> <span class="nx">instances</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">GCP</span> <span class="nx">cloud</span> <span class="p">(</span><span class="kd">with</span> <span class="nx">the</span> <span class="k">default</span> <span class="nx">value</span> <span class="k">of</span> <span class="nx">count</span> <span class="nx">being</span> <span class="mi">1</span><span class="p">).</span>
</pre></div>
</div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Example Deployment for Private IP Allocation</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span> <span class="nx">Example</span> <span class="mi">3</span><span class="o">-</span><span class="nx">NIC</span> <span class="nx">Deployment</span> <span class="kd">with</span> <span class="nx">Static</span> <span class="nx">Private</span> <span class="nx">IP</span> <span class="nx">Allocation</span>

 <span class="nx">module</span> <span class="nx">bigip</span> <span class="p">{</span>
   <span class="nx">count</span>               <span class="o">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">instance_count</span>
   <span class="nx">source</span>              <span class="o">=</span> <span class="s2">&quot;../..&quot;</span>
   <span class="nx">prefix</span>              <span class="o">=</span> <span class="s2">&quot;bigip-gcp-3nic&quot;</span>
   <span class="nx">project_id</span>          <span class="o">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">project_id</span>
   <span class="nx">zone</span>                <span class="o">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">zone</span>
   <span class="nx">image</span>               <span class="o">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">image</span>
   <span class="nx">service_account</span>     <span class="o">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">service_account</span>
   <span class="nx">mgmt_subnet_ids</span>     <span class="o">=</span> <span class="p">[{</span> <span class="s2">&quot;subnet_id&quot;</span> <span class="o">=</span> <span class="nx">google_compute_subnetwork</span><span class="p">.</span><span class="nx">mgmt_subnetwork</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="s2">&quot;public_ip&quot;</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="s2">&quot;private_ip_primary&quot;</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="p">}]</span>
   <span class="nx">external_subnet_ids</span> <span class="o">=</span> <span class="p">[{</span> <span class="s2">&quot;subnet_id&quot;</span> <span class="o">=</span> <span class="nx">google_compute_subnetwork</span><span class="p">.</span><span class="nx">external_subnetwork</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="s2">&quot;public_ip&quot;</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="s2">&quot;private_ip_primary&quot;</span> <span class="o">=</span> <span class="s2">&quot;10.2.1.2&quot;</span><span class="p">,</span> <span class="s2">&quot;private_ip_secondary&quot;</span> <span class="o">=</span> <span class="s2">&quot;10.2.1.3&quot;</span> <span class="p">}]</span>
   <span class="nx">internal_subnet_ids</span> <span class="o">=</span> <span class="p">[{</span> <span class="s2">&quot;subnet_id&quot;</span> <span class="o">=</span> <span class="nx">google_compute_subnetwork</span><span class="p">.</span><span class="nx">internal_subnetwork</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="s2">&quot;public_ip&quot;</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span> <span class="s2">&quot;private_ip_primary&quot;</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;private_ip_secondary&quot;</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span> <span class="p">}]</span>
 <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="required-and-optional-input-variables">
<h3>Required and Optional Input Variables<a class="headerlink" href="#required-and-optional-input-variables" title="Permalink to this headline">¶</a></h3>
<p>Required variables must be set in the module block when using this module. Optional variables have default values and do not need to be set to use this module. You may set these variables to override their default values.</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="8%" />
<col width="8%" />
<col width="25%" />
<col width="35%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Type</th>
<th class="head">Required</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>prefix</td>
<td>String</td>
<td>Required</td>
<td>N/A</td>
<td>This value is inserted in the beginning
of each GCP object.
Note: Requires alpha-numeric without
special characters.</td>
</tr>
<tr class="row-odd"><td>project_id</td>
<td>String</td>
<td>Required</td>
<td>N/A</td>
<td>The GCP project identifier where the
cluster will be created.</td>
</tr>
<tr class="row-even"><td>zone</td>
<td>String</td>
<td>Required</td>
<td>N/A</td>
<td>The compute zones which will host the
BIG-IP Virtual Machines.</td>
</tr>
<tr class="row-odd"><td>mgmt_subnet_ids</td>
<td>List of
Maps</td>
<td>Required</td>
<td>N/A</td>
<td>Map with Subnet-id and public_ip as
keys for the management subnet.</td>
</tr>
<tr class="row-even"><td>service_account</td>
<td>String</td>
<td>Required</td>
<td>N/A</td>
<td>Service account email to use with
the BIG-IP system.</td>
</tr>
<tr class="row-odd"><td>f5_username</td>
<td>String</td>
<td>Optional</td>
<td><code class="docutils literal notranslate"><span class="pre">bigipuser</span></code></td>
<td>The admin username of the F5 BIG-IP
that will be deployed.</td>
</tr>
<tr class="row-even"><td>f5_password</td>
<td>String</td>
<td>Optional</td>
<td>m5.large</td>
<td>Password of the F5 BIG-IP that will be
deployed. If this is not specified,
a random password will be generated.</td>
</tr>
<tr class="row-odd"><td>image</td>
<td>String</td>
<td>Optional</td>
<td>“projects/f5-7626-networks-
public/global/images/f5-
bigip-16-0-1-1-0-0-6-payg-
good-25mbps-210129040032”</td>
<td>The self-link URI for a BIG-IP image
to use as a base for the VM cluster.</td>
</tr>
<tr class="row-even"><td>min_cpu_platform</td>
<td>String</td>
<td>Optional</td>
<td>Intel Skylake</td>
<td>Minimum CPU platform for the VM
instance such as Intel Haswell or
Intel Skylake.</td>
</tr>
<tr class="row-odd"><td>machine_type</td>
<td>String</td>
<td>Optional</td>
<td>n1-standard-4</td>
<td>The machine type to create. If you want
to update this value (resize the VM)
after initial creation, you must set
<code class="docutils literal notranslate"><span class="pre">allow_stopping_for_update</span></code> to
<code class="docutils literal notranslate"><span class="pre">true</span></code>.</td>
</tr>
<tr class="row-even"><td>automatic_restart</td>
<td>Boolean</td>
<td>Optional</td>
<td>true</td>
<td>Specifies if the instance should be
restarted if it was terminated by
Compute Engine (not a user).</td>
</tr>
<tr class="row-odd"><td>preemptible</td>
<td>Boolean</td>
<td>Optional</td>
<td>false</td>
<td>Specifies if the instance is
preemptible. If this field is set to
true, then automatic_restart must be
set to false.</td>
</tr>
<tr class="row-even"><td>disk_type</td>
<td>String</td>
<td>Optional</td>
<td>pd-ssd</td>
<td>The GCE disk type. May be set to
pd-standard, pd-balanced or pd-ssd.</td>
</tr>
<tr class="row-odd"><td>disk_size_gb</td>
<td>Number</td>
<td>Optional</td>
<td>null</td>
<td>The size of the image in gigabytes. If
not specified, it will inherit the size
of its base image.</td>
</tr>
<tr class="row-even"><td><a href="#id3"><span class="problematic" id="id4">gcp_secret_manager_</span></a>
authentication</td>
<td>Boolean</td>
<td>Optional</td>
<td>false</td>
<td>Whether to use secret manager to pass
authentication.</td>
</tr>
<tr class="row-odd"><td>gcp_secret_name</td>
<td>String</td>
<td>Optional</td>
<td>null</td>
<td>The secret to get the secret version
for.</td>
</tr>
<tr class="row-even"><td>gcp_secret_version</td>
<td>String</td>
<td>Optional</td>
<td>latest</td>
<td>The version of the secret to get. If it
is not provided, the latest version is
retrieved.</td>
</tr>
<tr class="row-odd"><td>libs_dir</td>
<td>String</td>
<td>Optional</td>
<td>/config/cloud/gcp/node
_modules</td>
<td>Directory on the BIG-IP to download the
A&amp;O Toolchain into.</td>
</tr>
<tr class="row-even"><td>onboard_log</td>
<td>String</td>
<td>Optional</td>
<td>/var/log/startup-script.log</td>
<td>Directory on the BIG-IP to store the
cloud-init logs.</td>
</tr>
<tr class="row-odd"><td>mgmt_subnet_ids</td>
<td>List of
Maps</td>
<td>Optional</td>
<td>[{ “subnet_id” = null,
“public_ip” = null,”private
_ip_primary” = “” }]</td>
<td>The list of maps of subnet IDs of the
virtual network where the virtual
machines will reside.</td>
</tr>
<tr class="row-even"><td>external_subnet_ids</td>
<td>List of
Maps</td>
<td>Optional</td>
<td>[{ “subnet_id” = null,
“public_ip” = null,”private
_ip_primary” = “”, “private
_ip_secondary” = “” }]</td>
<td>The list of maps of subnet IDs of the
virtual network where the virtual
machines will reside.</td>
</tr>
<tr class="row-odd"><td>internal_subnet_ids</td>
<td>List of
Maps</td>
<td>Optional</td>
<td>[{ “subnet_id” = null,
“public_ip” = null,”private
_ip_primary” = “” }]</td>
<td>The list of maps of subnet IDs of the
virtual network where the virtual
machines will reside.</td>
</tr>
<tr class="row-even"><td>DO_URL</td>
<td>String</td>
<td>Optional</td>
<td>latest</td>
<td>URL to download the BIG-IP Declarative
Onboarding module.</td>
</tr>
<tr class="row-odd"><td>AS3_URL</td>
<td>String</td>
<td>Optional</td>
<td>latest</td>
<td>URL to download the BIG-IP Application
Service Extension 3 (AS3) module.</td>
</tr>
<tr class="row-even"><td>TS_URL</td>
<td>String</td>
<td>Optional</td>
<td>latest</td>
<td>URL to download the BIG-IP Telemetry
Streaming module.</td>
</tr>
<tr class="row-odd"><td>FAST_URL</td>
<td>String</td>
<td>Optional</td>
<td>latest</td>
<td>URL to download the BIG-IP FAST module.</td>
</tr>
<tr class="row-even"><td>CFE_URL</td>
<td>String</td>
<td>Optional</td>
<td>latest</td>
<td>URL to download the BIG-IP Cloud
Failover Extension module.</td>
</tr>
<tr class="row-odd"><td>INIT_URL</td>
<td>String</td>
<td>Optional</td>
<td>latest</td>
<td>URL to download the BIG-IP runtime init
module.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="output-variables">
<h3>Output Variables<a class="headerlink" href="#output-variables" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description/Notes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>mgmtPublicIP</td>
<td>The actual IP address allocated for the resource.</td>
</tr>
<tr class="row-odd"><td>mgmtPort</td>
<td>The Mgmt Port.</td>
</tr>
<tr class="row-even"><td>f5_username</td>
<td>BIG-IP username.</td>
</tr>
<tr class="row-odd"><td>bigip_password</td>
<td>The BIG-IP Password.</td>
</tr>
<tr class="row-even"><td>public_addresses</td>
<td>List of BIG-IP public addresses.</td>
</tr>
<tr class="row-odd"><td>private_addresses</td>
<td>List of BIG-IP private addresses.</td>
</tr>
<tr class="row-even"><td>service_account</td>
<td>The service account that will be used for the BIG-IP VMs.</td>
</tr>
</tbody>
</table>
<p>What’s Next?</p>
<ul class="simple">
<li><a class="reference internal" href="aws.html#bigip-modules-aws"><span class="std std-ref">AWS module</span></a></li>
<li><a class="reference internal" href="azure.html#bigip-modules-azure"><span class="std std-ref">Azure module</span></a></li>
<li><a class="reference internal" href="../release-notes.html#release-notes"><span class="std std-ref">Release Notes</span></a></li>
<li><a class="reference internal" href="index.html#bigip-modules"><span class="std std-ref">BIG-IP Provider Modules</span></a></li>
<li><a class="reference internal" href="../as3-integration.html#as3-integration"><span class="std std-ref">AS3 Integration</span></a></li>
<li><a class="reference internal" href="../awaf-integration/index.html#awaf-integration"><span class="std std-ref">Advanced WAF Integration</span></a></li>
<li><a class="reference internal" href="../fast-integration/index.html#fast-integration"><span class="std std-ref">FAST Integration</span></a></li>
<li><a class="reference internal" href="../do-integration.html#do-integration"><span class="std std-ref">Declarative Onboarding Integration</span></a></li>
<li><a class="reference internal" href="../bigiq-licensing.html#bigiq-licensing"><span class="std std-ref">Licensing with BIG-IQ</span></a></li>
</ul>
</div>
</div>
</div>


     </div>
    
     <div class="row next-prev-btn-row">
       <div class="col-lg-12">
       
        <a href="azure.html" title="Azure" accesskey="p" class="btn btn-primary left"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous</a>
       
       
          <a href="../as3-integration.html" title="AS3 Integration with Terraform" accesskey="n" class="btn btn-primary right">Next <i class="fa fa-arrow-circle-right" aria-hidden="true"></i></a>
       
     </div>
     </div>
    

    </article>
  </div>

</div>


  <div id="clouddocs-footer"></div>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->

  <script src="../../_static/js/index.js"></script>
  <script src="../../_static/js/bootstrap.min.js"></script>
  <script src="../../_static/js/clouddocs.js"></script>
  <script src="../../_static/js/jquery.appear.js"></script>
  <script src="../../_static/js/printThis.js"></script>
  </body>
</html>