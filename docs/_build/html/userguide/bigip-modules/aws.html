<!DOCTYPE html>
<head>
  
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-PPZPQ6');</script>
  <!-- End Google Tag Manager -->
    <title>AWS</title>
  

  <meta charset="utf-8">
  <!-- Twitter Bootstrap viewport setting -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- F5 metadata -->
  <meta name="title" content="AWS"/>
  <meta name="product" content="F5 BIG-IP Resources for Terraform"/>
  <meta name="version" content=""/>
  <meta name="updated_date"  content="2023-04-26 11:50:19"/>
  <meta name="archived" content="Archived documents excluded"/>
  <meta name="doc_type" content="Manual"/>
  <meta name="lifecycle" content="release"/>
  <meta name="F5 BIG-IP Resources for Terraform" content=""/>


  

  
  <link href="https://cdn.f5.com/favicon.ico" rel="icon">

</head>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>AWS &#8212; F5 Modules for Terraform</title>
    <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/table_styling.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/f5.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/f5-theme.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="https://use.fontawesome.com/21fb8a09c3.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <script type="text/javascript" src="../../_static/copybutton.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Azure" href="azure.html" />
    <link rel="prev" title="F5 BIG-IP Modules" href="index.html" />

  
    

  
  </head><body>
  <div id="clouddocs-header"></div>

    <div id="dismiss">
      <button type="button" class="btn btn-info navbar-btn site-hidden">
        <i class="fa fa-align-justify"></i>
      </button>
    </div>
    <div id="sidebar" class="section-nav">
      
      <!--  version selector ------------------>
      <div id="version_selector_wrapper">
      </div>
      <nav class="nav-sidebartoc">

        
         <h5>F5 BIG-IP Resources for Terraform  </h5>
        
<div id="searchbox" role="search">
  <form class="search" action="../../search.html" method="get">
    <input type="text" class="search" name="q" placeholder=" Search..." />
    <button type="submit" class="btn btn-info navbar-btn"><i class="fa fa-search"></i></button>
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        <hr>
        <span class="nav-sidebartoc">
            <p class="caption"><span class="caption-text">F5 Terraform Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">F5 Terraform Resources Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installing.html">Installing Terraform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuring.html">Configuring Terraform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">Support</a></li>
</ul>
<p class="caption"><span class="caption-text">F5 BIG-IP Provider</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index-bigip.html">F5 BIG-IP Provider Overview</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index-bigip.html#releases-and-versioning">Releases and Versioning</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../release-notes.html">F5 BIG-IP Provider Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">F5 BIG-IP Modules</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">AWS</a></li>
<li class="toctree-l2"><a class="reference internal" href="azure.html">Azure</a></li>
<li class="toctree-l2"><a class="reference internal" href="gcp.html">GCP</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../as3-integration.html">AS3 Integration with Terraform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../awaf-integration/index.html">Advanced WAF Integration with Terraform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fast-integration/index.html">FAST Integration with Terraform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../do-integration.html">Declarative Onboarding Integration with Terraform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bigiq-licensing.html">Licensing BIG-IP with BIG-IQ</a></li>
</ul>
<p class="caption"><span class="caption-text">F5OS Provider</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../F5OS/index-f5os.html">F5OS Resources for Terraform</a></li>
<li class="toctree-l1"><a class="reference internal" href="../F5OS/release-notes.html">F5OS Provider Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../F5OS/f5os-modules.html">F5OS Tenant Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../F5OS/f5os-qsg.html">F5OS Quick Start Guide</a></li>
</ul>

        </span><!-- Use this file to add extra links to the bottom of the ToC sidebar -->
<hr>
  <span class="nav-sidebartoc">
 <!-- insert content here -->
  </span>
      </nav>
    </div>


    <div id="right-sidebar">
      <h7 style="font-weight:normal">On this page:</h7>
      <nav class="nav-sidebartoc">
        <span class="nav-sidebartoc">
            <ul>
<li><a class="reference internal" href="#">AWS</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#password-management">Password Management</a></li>
<li><a class="reference internal" href="#example-usage">Example Usage</a></li>
<li><a class="reference internal" href="#inspec-tool">InSpec Tool</a></li>
<li><a class="reference internal" href="#required-and-optional-input-variables">Required and Optional Input Variables</a></li>
<li><a class="reference internal" href="#output-variables">Output Variables</a></li>
</ul>
</li>
</ul>

         </span>
      </nav>
    </div>





  
  <div class="main active" id="content" >
    <article class="docs-container site-article-inner">
            <nav class="site-breadcrumb-nav site-nav">
          <ul class="site-breadcrumb-list">
            <li class="breadcrumb-item"><button type="button" id="sidebarCollapse" class="btn btn-info navbar-btn site-hidden"><i class="fa fa-align-justify"></i></button>&#x20 <a href="/">CloudDocs Home</a> &gt; <a href="../../index.html">F5 BIG-IP Resources for Terraform </a> &gt; AWS</li>
          </ul>
      </nav>
      
      


    <!--a title="Export PDF" id="export-pdf" class="btn btn btn-link pull-right">View PDF</a-->
    <button type="button" id="export-pdf" class="btn btn-link right">PDF</button>


    
     
         <div class="sidebar" id="version-warning" style="display: none;">
           <p class="first sidebar-title">
           <span class="icon fa fa-info-circle fa-lg"></span> Version notice:</p>
           <p class="last" id="currentVersion"></p>
          </div>


     <div role="main">
        
  <div class="section" id="aws">
<span id="bigip-modules-aws"></span><h1>AWS<a class="headerlink" href="#aws" title="Permalink to this headline">¶</a></h1>
<p>This Terraform module deploys N-NIC F5 BIG-IP in AWS cloud. You can deploy multiple instances of BIG-IP with the module count feature.</p>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<div class="sidebar">
<p class="first sidebar-title"><span class="icon fa fa-info-circle fa-lg"></span> Version Notice:</p>
<p class="last">This module is supported on Terraform version 0.13 and newer.</p>
</div>
<p>The templates below are tested on Terraform v0.13.0 and v0.14.0:</p>
<ul class="simple">
<li>provider registry.terraform.io/hashicorp/aws v3.8.0</li>
<li>provider registry.terraform.io/hashicorp/random v2.3.0</li>
<li>provider registry.terraform.io/hashicorp/template v2.1.2</li>
<li>provider registry.terraform.io/hashicorp/null v2.1.2</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="36%" />
<col width="32%" />
<col width="32%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">BIG-IP version</th>
<th class="head">Terraform v0.13</th>
<th class="head">Terraform v0.14</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>BIG-IP 16.x</td>
<td>X</td>
<td>X</td>
</tr>
<tr class="row-odd"><td>BIG-IP 15.x</td>
<td>X</td>
<td>X</td>
</tr>
<tr class="row-even"><td>BIG-IP 14.x</td>
<td>X</td>
<td>X</td>
</tr>
<tr class="row-odd"><td>BIG-IP 13.x</td>
<td>X</td>
<td>X</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="password-management">
<h2>Password Management<a class="headerlink" href="#password-management" title="Permalink to this headline">¶</a></h2>
<p>By default, the BIG-IP module dynamically generates passwords.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">cat</span> <span class="nx">terraform</span><span class="o">-</span><span class="nx">aws</span><span class="o">-</span><span class="nx">bigip</span><span class="o">-</span><span class="nx">module</span><span class="o">/</span><span class="nx">variables</span><span class="p">.</span><span class="nx">tf</span>

<span class="nx">variable</span> <span class="nx">aws_secretmanager_auth</span> <span class="p">{</span>
  <span class="nx">description</span> <span class="o">=</span> <span class="s2">&quot;Whether to use key vault to pass authentication&quot;</span>
  <span class="nx">type</span>        <span class="o">=</span> <span class="nx">bool</span>
  <span class="k">default</span>     <span class="o">=</span> <span class="kc">false</span>
<span class="p">}</span>

<span class="nx">Outputs</span><span class="o">:</span>

<span class="nx">bigip_password</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s2">&quot;xxxxxxxxxxxxxxxxxx&quot;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>To use AWS secret manager password, you must enable the variable <code class="docutils literal notranslate"><span class="pre">aws_secretmanager_auth</span></code> to <code class="docutils literal notranslate"><span class="pre">true</span></code> and supply the secret name to variable <code class="docutils literal notranslate"><span class="pre">aws_secretmanager_secret_id</span></code>.</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">cat</span> <span class="nx">terraform</span><span class="o">-</span><span class="nx">aws</span><span class="o">-</span><span class="nx">bigip</span><span class="o">-</span><span class="nx">module</span><span class="o">/</span><span class="nx">variables</span><span class="p">.</span><span class="nx">tf</span>

<span class="nx">variable</span> <span class="nx">aws_secretmanager_auth</span> <span class="p">{</span>
  <span class="nx">description</span> <span class="o">=</span> <span class="s2">&quot;Whether to use key vault to pass authentication&quot;</span>
  <span class="nx">type</span>        <span class="o">=</span> <span class="nx">bool</span>
  <span class="k">default</span>     <span class="o">=</span> <span class="kc">true</span>
<span class="p">}</span>

<span class="nx">variable</span> <span class="nx">aws_secretmanager_secret_id</span> <span class="p">{</span>
  <span class="nx">description</span> <span class="o">=</span> <span class="s2">&quot;AWS Secret Manager Secret ID that stores the BIG-IP password&quot;</span>
  <span class="nx">type</span>        <span class="o">=</span> <span class="nx">string</span>
  <span class="k">default</span>     <span class="o">=</span> <span class="s2">&quot;tf-aws-bigip-bigip-secret-9759&quot;</span>
<span class="p">}</span>

<span class="nx">Outputs</span><span class="o">:</span>

<span class="nx">bigip_password</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s2">&quot;xxxxxxxxxxxxxxx&quot;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="example-usage">
<h2>Example Usage<a class="headerlink" href="#example-usage" title="Permalink to this headline">¶</a></h2>
<div class="sidebar admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="https://github.com/f5devcentral/terraform-aws-bigip-module/tree/master/examples">Additional common deployment examples</a>.</p>
</div>
<p>There should be one-to-one mapping between subnet_ids and securitygroup_ids. For example if you have two or more external subnet_ids, you must give the same number of external securitygroup_ids to the module.</p>
<p>Users can have dynamic or static private IP allocation. If the primary/secondary private IP value is null, it will be dynamic or else static private IP allocation. With Static private IP allocation, you can assign primary and secondary private IPs for external interfaces, whereas the primary private IP is for management
and internal interfaces.</p>
<p>If you are using static private IP allocation, you cannot use module count because the same private IPs will be allocated to multiple BIG-IP instances based on the module count.</p>
<p>With Dynamic Private IP Allocation, you must pass null value to primary/secondary private IP declaration and module count will be supported.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Sometimes the given static primary and secondary private IPs may get exchanged. This limitation is present in AWS.</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">Dynamic Private IP Allocation</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span> #
 #Example of 1-NIC Deployment Module usage
 #
 module bigip {
   count                  = var.instance_count
   source                 = &quot;../../&quot;
   prefix                 = &quot;bigip-aws-1nic&quot;
   ec2_key_name           = aws_key_pair.generated_key.key_name
   mgmt_subnet_ids        = [{ &quot;subnet_id&quot; = &quot;subnet_id_mgmt&quot;, &quot;public_ip&quot; = true, &quot;private_ip_primary&quot; =  &quot;&quot;}]
   mgmt_securitygroup_ids = [&quot;securitygroup_id_mgmt&quot;]
 }

 #
 #Example of 2-NIC Deployment Module usage
 #
 module bigip {
   count                  = var.instance_count
   source                      = &quot;../../&quot;
   prefix                      = &quot;bigip-aws-2nic&quot;
   ec2_key_name                = aws_key_pair.generated_key.key_name
   mgmt_subnet_ids             = [{ &quot;subnet_id&quot; = &quot;subnet_id_mgmt&quot;, &quot;public_ip&quot; = true, &quot;private_ip_primary&quot; =  &quot;&quot;}]
   mgmt_securitygroup_ids      = [&quot;securitygroup_id_mgmt&quot;]
   external_subnet_ids         = [{ &quot;subnet_id&quot; = &quot;subnet_id_external&quot;, &quot;public_ip&quot; = true, &quot;private_ip_primary&quot; = &quot;&quot;, &quot;private_ip_secondary&quot; = &quot;&quot;}]
   external_securitygroup_ids  = [&quot;securitygroup_id_external&quot;]
 }

 #
 #Example of 3-NIC Deployment Module usage
 #
 module bigip {
   count                  = var.instance_count
   source                      = &quot;../../&quot;
   prefix                      = &quot;bigip-aws-3nic&quot;
   ec2_key_name                = aws_key_pair.generated_key.key_name
   mgmt_subnet_ids             = [{ &quot;subnet_id&quot; = &quot;subnet_id_mgmt&quot;, &quot;public_ip&quot; = true, &quot;private_ip_primary&quot; =  &quot;&quot;}]
   mgmt_securitygroup_ids      = [&quot;securitygroup_id_mgmt&quot;]
   external_subnet_ids         = [{ &quot;subnet_id&quot; = &quot;subnet_id_external&quot;, &quot;public_ip&quot; = true, &quot;private_ip_primary&quot; = &quot;&quot;, &quot;private_ip_secondary&quot; = &quot;&quot;}]
   external_securitygroup_ids  = [&quot;securitygroup_id_external&quot;]
   internal_subnet_ids         = [{&quot;subnet_id&quot; =  &quot;subnet_id_internal&quot;, &quot;public_ip&quot;=false, &quot;private_ip_primary&quot; = &quot;&quot;}]
   internal_securitygroup_ids  = [&quot;securitygropu_id_internal&quot;]
 }

 #
 #Example of 4-NIC Deployment Module usage with two external public interfaces, one management and internal interface. There should be one-to-one mapping between subnet_ids and securitygroup_ids).
 #

 module bigip {
   count                  = var.instance_count
   source                      = &quot;../../&quot;
   prefix                      = &quot;bigip-aws-4nic&quot;
   ec2_key_name                = aws_key_pair.generated_key.key_name
   mgmt_subnet_ids             = [{ &quot;subnet_id&quot; = &quot;subnet_id_mgmt&quot;, &quot;public_ip&quot; = true }]
   mgmt_securitygroup_ids      = [&quot;securitygroup_id_mgmt&quot;]
   external_subnet_ids         = [{ &quot;subnet_id&quot; = &quot;subnet_id_external&quot;, &quot;public_ip&quot; = true },{&quot;subnet_id&quot; =  &quot;subnet_id_external2&quot;, &quot;public_ip&quot; = true }]
   external_securitygroup_ids  = [&quot;securitygroup_id_external&quot;,&quot;securitygroup_id_external&quot;]
   internal_subnet_ids         = [{&quot;subnet_id&quot; =  &quot;subnet_id_internal&quot;, &quot;public_ip&quot;=false }]
   internal_securitygroup_ids  = [&quot;securitygropu_id_internal&quot;]
 }
</pre></div>
</div>
</div>
<p>Similarly, you can have N-NIC deployments based on user-provided subnet_ids and securitygroup_ids. With module count, you can deploy multiple BIG-IP instances in the AWS cloud (with the default value of 1).</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Private IP Allocation</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span> <span class="nx">Example</span> <span class="k">of</span> <span class="mi">3</span><span class="o">-</span><span class="nx">NIC</span> <span class="nx">Deployment</span> <span class="kd">with</span> <span class="kr">static</span> <span class="kr">private</span> <span class="nx">ip</span> <span class="nx">allocation</span>

 <span class="nx">module</span> <span class="nx">bigip</span> <span class="p">{</span>
   <span class="nx">source</span>                      <span class="o">=</span> <span class="s2">&quot;../../&quot;</span>
   <span class="nx">count</span>                       <span class="o">=</span> <span class="kd">var</span><span class="p">.</span><span class="nx">instance_count</span>
   <span class="nx">prefix</span>                      <span class="o">=</span> <span class="nx">format</span><span class="p">(</span><span class="s2">&quot;%s-3nic&quot;</span><span class="p">,</span> <span class="kd">var</span><span class="p">.</span><span class="nx">prefix</span><span class="p">)</span>
   <span class="nx">ec2_key_name</span>                <span class="o">=</span> <span class="nx">aws_key_pair</span><span class="p">.</span><span class="nx">generated_key</span><span class="p">.</span><span class="nx">key_name</span>
   <span class="nx">aws_secretmanager_secret_id</span> <span class="o">=</span> <span class="nx">aws_secretsmanager_secret</span><span class="p">.</span><span class="nx">bigip</span><span class="p">.</span><span class="nx">id</span>
   <span class="nx">mgmt_subnet_ids</span>             <span class="o">=</span> <span class="p">[{</span> <span class="s2">&quot;subnet_id&quot;</span> <span class="o">=</span> <span class="nx">aws_subnet</span><span class="p">.</span><span class="nx">mgmt</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="s2">&quot;public_ip&quot;</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="s2">&quot;private_ip_primary&quot;</span> <span class="o">=</span> <span class="s2">&quot;10.0.1.4&quot;</span><span class="p">}]</span>
   <span class="nx">mgmt_securitygroup_ids</span>      <span class="o">=</span> <span class="p">[</span><span class="nx">module</span><span class="p">.</span><span class="nx">mgmt</span><span class="o">-</span><span class="nx">network</span><span class="o">-</span><span class="nx">security</span><span class="o">-</span><span class="nx">group</span><span class="p">.</span><span class="nx">this_security_group_id</span><span class="p">]</span>
   <span class="nx">external_securitygroup_ids</span>  <span class="o">=</span> <span class="p">[</span><span class="nx">module</span><span class="p">.</span><span class="nx">external</span><span class="o">-</span><span class="nx">network</span><span class="o">-</span><span class="nx">security</span><span class="o">-</span><span class="nx">group</span><span class="o">-</span><span class="kr">public</span><span class="p">.</span><span class="nx">this_security_group_id</span><span class="p">]</span>
   <span class="nx">internal_securitygroup_ids</span>  <span class="o">=</span> <span class="p">[</span><span class="nx">module</span><span class="p">.</span><span class="nx">internal</span><span class="o">-</span><span class="nx">network</span><span class="o">-</span><span class="nx">security</span><span class="o">-</span><span class="nx">group</span><span class="o">-</span><span class="kr">public</span><span class="p">.</span><span class="nx">this_security_group_id</span><span class="p">]</span>
   <span class="nx">external_subnet_ids</span>         <span class="o">=</span> <span class="p">[{</span> <span class="s2">&quot;subnet_id&quot;</span> <span class="o">=</span> <span class="nx">aws_subnet</span><span class="p">.</span><span class="nx">external</span><span class="o">-</span><span class="kr">public</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="s2">&quot;public_ip&quot;</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span> <span class="s2">&quot;private_ip_primary&quot;</span> <span class="o">=</span> <span class="s2">&quot;10.0.2.4&quot;</span><span class="p">,</span> <span class="s2">&quot;private_ip_secondary&quot;</span> <span class="o">=</span> <span class="s2">&quot;10.0.2.5&quot;</span><span class="p">}]</span>
   <span class="nx">internal_subnet_ids</span>         <span class="o">=</span> <span class="p">[{</span> <span class="s2">&quot;subnet_id&quot;</span> <span class="o">=</span> <span class="nx">aws_subnet</span><span class="p">.</span><span class="nx">internal</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="s2">&quot;public_ip&quot;</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span> <span class="s2">&quot;private_ip_primary&quot;</span> <span class="o">=</span> <span class="s2">&quot;10.0.3.4&quot;</span><span class="p">}]</span>
 <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="inspec-tool">
<h2>InSpec Tool<a class="headerlink" href="#inspec-tool" title="Permalink to this headline">¶</a></h2>
<p>The BIG-IP Automation Toolchain InSpec Profile is used for testing the readiness of Automation Tool Chain (ATC) components. After module deployment, you can use the InSpec tool to verify BIG-IP connectivity with ATC components.</p>
<p>This InSpec profile evaluates the following:</p>
<ul class="simple">
<li>Basic connectivity to a BIG-IP management endpoint: <code class="docutils literal notranslate"><span class="pre">bigip-connectivity</span></code></li>
<li>Availability of the Declarative Onboarding (DO) service: <code class="docutils literal notranslate"><span class="pre">bigip-declarative-onboarding</span></code></li>
<li>Version reported by the Declarative Onboarding (DO) service: <code class="docutils literal notranslate"><span class="pre">bigip-declarative-onboarding-version</span></code></li>
<li>Availability of the Application Services (AS3) service: <code class="docutils literal notranslate"><span class="pre">bigip-application-services</span></code></li>
<li>Version reported by the Application Services (AS3) service: <code class="docutils literal notranslate"><span class="pre">bigip-application-services-version</span></code></li>
<li>Availability of the Telemetry Streaming (TS) service: <code class="docutils literal notranslate"><span class="pre">bigip-telemetry-streaming</span></code></li>
<li>Version reported by the Telemetry Streaming (TS) service: <code class="docutils literal notranslate"><span class="pre">bigip-telemetry-streaming-version</span></code></li>
<li>Availability of the Cloud Failover Extension (CFE) service: <code class="docutils literal notranslate"><span class="pre">bigip-cloud-failover-extension</span></code></li>
<li>Version reported by the Cloud Failover Extension (CFE) service: <code class="docutils literal notranslate"><span class="pre">bigip-cloud-failover-extension-version</span></code></li>
</ul>
<p>To run InSpec tests, you can either run the inspec exec command or execute runtests.sh in any one of example NIC folders which will run below the inspec command. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>inspec exec inspec/bigip-ready --input bigip_address=$BIGIP_MGMT_IP bigip_port=$BIGIP_MGMT_PORT user=$BIGIP_USER password=$BIGIP_PASSWORD do_version=$DO_VERSION as3_version=$AS3_VERSION ts_version=$TS_VERSION fast_version=$FAST_VERSION cfe_version=$CFE_VERSION
</pre></div>
</div>
</div>
<div class="section" id="required-and-optional-input-variables">
<h2>Required and Optional Input Variables<a class="headerlink" href="#required-and-optional-input-variables" title="Permalink to this headline">¶</a></h2>
<p>Required variables must be set in the module block when using this module. Optional variables have default values and do not need to be set to use this module. You may set these variables to override their default values.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For each external interface there will be one primary, secondary private IP will be assigned.</p>
</div>
</div>
<div class="section" id="output-variables">
<h2>Output Variables<a class="headerlink" href="#output-variables" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="92%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description/Notes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>mgmtPublicIP</td>
<td>The actual IP address allocated for the resource.</td>
</tr>
<tr class="row-odd"><td>mgmtPublicDNS</td>
<td>FQDN to connect to the first VM provisioned.</td>
</tr>
<tr class="row-even"><td>mgmtPort</td>
<td>The Mgmt Port.</td>
</tr>
<tr class="row-odd"><td>f5_username</td>
<td>BIG-IP username.</td>
</tr>
<tr class="row-even"><td>bigip_password</td>
<td>The BIG-IP Password. If <code class="docutils literal notranslate"><span class="pre">dynamic_password</span></code> is selected, then it will be a randomly generated password. If <code class="docutils literal notranslate"><span class="pre">aws_secretmanager_auth</span></code> is selected, then it will be an aws_secretsmanager_secret_version secret string.</td>
</tr>
<tr class="row-odd"><td>private_addresses</td>
<td>List of BIG-IP private addresses.</td>
</tr>
<tr class="row-even"><td>public_addresses</td>
<td>List of BIG-IP public addresses.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A local json file that contains the DO declaration will be generated.</p>
</div>
<p>What’s Next?</p>
<ul class="simple">
<li><a class="reference internal" href="azure.html#bigip-modules-azure"><span class="std std-ref">Azure module</span></a></li>
<li><a class="reference internal" href="gcp.html#bigip-modules-gcp"><span class="std std-ref">GCP module</span></a></li>
<li><a class="reference internal" href="../release-notes.html#release-notes"><span class="std std-ref">Release Notes</span></a></li>
<li><a class="reference internal" href="index.html#bigip-modules"><span class="std std-ref">BIG-IP Provider Modules</span></a></li>
<li><a class="reference internal" href="../as3-integration.html#as3-integration"><span class="std std-ref">AS3 Integration</span></a></li>
<li><a class="reference internal" href="../awaf-integration/index.html#awaf-integration"><span class="std std-ref">Advanced WAF Integration</span></a></li>
<li><a class="reference internal" href="../fast-integration/index.html#fast-integration"><span class="std std-ref">FAST Integration</span></a></li>
<li><a class="reference internal" href="../do-integration.html#do-integration"><span class="std std-ref">Declarative Onboarding Integration</span></a></li>
<li><a class="reference internal" href="../bigiq-licensing.html#bigiq-licensing"><span class="std std-ref">Licensing with BIG-IQ</span></a></li>
</ul>
</div>
</div>


     </div>
    
     <div class="row next-prev-btn-row">
       <div class="col-lg-12">
       
        <a href="index.html" title="F5 BIG-IP Modules" accesskey="p" class="btn btn-primary left"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous</a>
       
       
          <a href="azure.html" title="Azure" accesskey="n" class="btn btn-primary right">Next <i class="fa fa-arrow-circle-right" aria-hidden="true"></i></a>
       
     </div>
     </div>
    

    </article>
  </div>

</div>


  <div id="clouddocs-footer"></div>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->

  <script src="../../_static/js/index.js"></script>
  <script src="../../_static/js/bootstrap.min.js"></script>
  <script src="../../_static/js/clouddocs.js"></script>
  <script src="../../_static/js/jquery.appear.js"></script>
  <script src="../../_static/js/printThis.js"></script>
  </body>
</html>